<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>企业定额管理系统</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>定额管理系统</h1>
            <div class="top-nav">
                <div class="top-nav-item active" onclick="switchNav('items')">定额匹配</div>
                <div class="top-nav-item" onclick="switchNav('versions')">定额管理</div>
                <div class="top-nav-item" onclick="switchNav('document')">文档生成</div>
                <div class="top-nav-item" onclick="switchNav('users')">用户管理</div>
            </div>
            <div style="display: flex; align-items: center; gap: 15px;">
                <span id="userInfo" style="color: white; font-size: 14px;"></span>
                <button onclick="logout()" style="padding: 8px 16px; background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.3); border-radius: 4px; color: white; cursor: pointer; font-size: 13px;">退出登录</button>
            </div>
        </header>

        <!-- 主内容区域 -->
        <div class="main-content">
            <!-- 左侧导航栏 -->
            <div class="sidebar">
                <div class="nav-item active" onclick="switchNav('items')">
                    <span class="nav-icon">📋</span>
                    <span class="nav-text">定额匹配</span>
                </div>
                <div class="nav-item" onclick="switchNav('versions')">
                    <span class="nav-icon">📚</span>
                    <span class="nav-text">定额管理</span>
                </div>
                <div class="nav-item" onclick="switchNav('document')">
                    <span class="nav-icon">📄</span>
                    <span class="nav-text">文档生成</span>
                </div>
                <div class="nav-item" onclick="switchNav('users')">
                    <span class="nav-icon">👥</span>
                    <span class="nav-text">用户管理</span>
                </div>
            </div>

            <!-- 右侧内容区 -->
            <div class="content-area">

        <!-- 项目清单管理标签页 -->
        <div id="itemsTab" class="tab-content active">
        <div class="action-panel">
            <div class="compact-controls">
                <div class="control-group">
                    <label for="itemFile">数据导入：</label>
                    <input type="file" id="itemFile" accept=".xlsx,.xls" style="font-size: 14px;">
                    <button onclick="importItems()" class="btn-primary">导入清单</button>
                    <span id="itemStatus"></span>
                </div>
                <div class="control-group">
                    <label for="versionSelect">定额版本：</label>
                    <select id="versionSelect" style="padding: 6px; border: 2px solid #bbdefb; border-radius: 4px; min-width: 150px; font-size: 14px;" required>
                        <option value="">请选择版本</option>
                    </select>
                    <button onclick="matchQuotas()" class="btn-primary">开始匹配</button>
                    <span id="matchStatus"></span>
                    <button onclick="exportData()" class="btn-success">导出结果</button>
                    <button onclick="clearAll()" class="btn-danger">清空数据</button>
                </div>
            </div>
        </div>

        <div class="data-panel">
            <h2>项目清单列表</h2>
            <div class="toolbar">
                <input type="text" id="searchInput" placeholder="搜索清单名称或特征值..." onkeyup="filterItems()">
                <button onclick="loadItems()">刷新列表</button>
                <button onclick="openItemEditModal(null)" class="btn-primary">新增清单</button>
                <button onclick="addNewRowToTable()" class="btn-primary">增加行</button>
                <button onclick="batchDeleteItems()" class="btn-danger" id="toolbarBatchDeleteItemsBtn" style="display: none;">批量删除</button>
            </div>
            <div class="total-summary" id="totalSummary">
                <span class="total-label">匹配后金额合计：</span>
                <span class="total-amount" id="totalAmount">0.00</span>
                <span class="total-unit">元</span>
            </div>
            <div class="table-container" id="itemsTableContainer">
                <table id="itemsTable">
                    <thead>
                        <tr>
                            <th><input type="checkbox" id="selectAllItems" onchange="toggleSelectAllItems()"></th>
                            <th>序号</th>
                            <th>清单编码</th>
                            <th>清单名称</th>
                            <th>项目特征值</th>
                            <th>单位</th>
                            <th>工程量</th>
                            <th>匹配定额编码</th>
                            <th>匹配定额名称</th>
                            <th>定额项目特征</th>
                            <th>单价</th>
                            <th>合价</th>
                            <th>备注</th>
                            <th>匹配状态</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody id="itemsTableBody">
                        <tr>
                            <td colspan="15" class="empty-message">暂无数据，请先导入项目清单</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        </div>

        <!-- 版本管理标签页 -->
        <div id="versionsTab" class="tab-content">
            <div class="version-management-panel">
                <h2>定额版本管理</h2>
                <div class="toolbar">
                    <button onclick="openVersionEditModal(null)" class="btn-primary">新增版本</button>
                    <button onclick="loadVersions()" class="btn-primary">刷新列表</button>
                    <button onclick="batchDeleteVersions()" class="btn-danger" id="toolbarBatchDeleteVersionsBtn" style="display: none;">批量删除</button>
                </div>
                <div class="table-container" id="versionsTableContainer">
                    <table id="versionsTable">
                        <thead>
                            <tr>
                                <th><input type="checkbox" id="selectAllVersions" onchange="toggleSelectAllVersions()"></th>
                                <th>序号</th>
                                <th>版本名称</th>
                                <th>描述</th>
                                <th>创建时间</th>
                                <th>更新时间</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody id="versionsTableBody">
                            <tr>
                                <td colspan="7" class="empty-message">暂无数据，请先新增版本</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- 版本明细标签页（点击版本后显示） -->
        <div id="versionDetailTab" class="tab-content" style="display: none;">
            <div class="version-detail-panel">
                <div class="version-detail-header">
                    <button onclick="backToVersionList()" class="btn-secondary" style="margin-right: 15px;">← 返回版本列表</button>
                    <h2 id="versionDetailTitle">版本明细</h2>
                </div>
                <div class="toolbar">
                    <input type="text" id="quotaManagementSearchInput" placeholder="搜索定额编码、名称或特征值..." onkeyup="filterQuotas()">
                    <button onclick="loadQuotas()" class="btn-primary">刷新列表</button>
                    <button onclick="openQuotaEditModal(null)" class="btn-primary">新增定额</button>
                    <button onclick="exportQuotas()" class="btn-success">导出定额</button>
                    <button onclick="importQuotasToVersion()" class="btn-primary">导入定额</button>
                    <button onclick="batchDeleteQuotas()" class="btn-danger" id="toolbarBatchDeleteBtn" style="display: none;">批量删除</button>
                </div>
                <div class="table-container" id="quotasTableContainer">
                    <table id="quotasTable">
                        <thead>
                            <tr>
                                <th><input type="checkbox" id="selectAllQuotas" onchange="toggleSelectAllQuotas()"></th>
                                <th>序号</th>
                                <th>定额编码</th>
                                <th>定额名称</th>
                                <th>项目特征值</th>
                                <th>单位</th>
                                <th>单价</th>
                                <th>人工费</th>
                                <th>材料费</th>
                                <th>机械费</th>
                                <th>备注</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody id="quotasTableBody">
                            <tr>
                                <td colspan="12" class="empty-message">暂无数据，请先导入或新增企业定额</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- 用户管理标签页 -->
        <div id="usersTab" class="tab-content">
            <div class="version-management-panel">
                <h2>用户管理</h2>
                <div class="toolbar">
                    <button onclick="openUserEditModal(null)" class="btn-primary">新增用户</button>
                    <button onclick="loadUsers()" class="btn-primary">刷新列表</button>
                    <button onclick="openChangePasswordModal()" class="btn-primary">修改密码</button>
                </div>
                <div class="table-container" id="usersTableContainer">
                    <table id="usersTable">
                        <thead>
                            <tr>
                                <th>序号</th>
                                <th>用户名</th>
                                <th>真实姓名</th>
                                <th>邮箱</th>
                                <th>状态</th>
                                <th>创建时间</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody id="usersTableBody">
                            <tr>
                                <td colspan="7" class="empty-message">暂无数据</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- 文档生成标签页 -->
        <div id="documentTab" class="tab-content" style="padding: 0; margin: 0; width: 100%; height: 100%;">
            <div class="version-management-panel" style="width: 100%; height: 100%; padding: 20px; overflow-y: auto;">
                <h2>文档生成</h2>
                <div style="padding: 20px; max-width: 100%; width: 100%;">
                    <div class="form-group" style="margin-bottom: 20px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <label style="font-weight: bold; margin: 0;">1. 选择模板文件：</label>
                            <button onclick="openDocumentTemplateModal()" class="btn-secondary" style="padding: 6px 12px; font-size: 14px;">管理模板</button>
                        </div>
                        <div style="display: flex; gap: 10px; align-items: flex-start; flex-wrap: wrap;">
                            <select id="documentTemplateSelect" style="padding: 8px; border: 2px solid #bbdefb; border-radius: 4px; min-width: 300px; font-size: 14px; box-sizing: border-box; height: 38px; line-height: 22px;" onchange="onDocumentTemplateSelect()">
                                <option value="">请选择服务器模板</option>
                            </select>
                            <span style="color: #666; font-size: 14px; line-height: 38px;">或</span>
                            <label for="templateFile" style="position: relative; flex: 1; min-width: 200px; display: block;">
                                <input type="file" id="templateFile" accept=".docx,.doc" style="padding: 8px; padding-right: 100px; border: 2px solid #bbdefb; border-radius: 4px; width: 100%; font-size: 14px; cursor: pointer; color: transparent; box-sizing: border-box; height: 38px; line-height: 22px;" onchange="updateTemplateFileLabel()">
                                <span id="templateFileLabel" style="position: absolute; left: 92px; top: 50%; transform: translateY(-50%); pointer-events: none; color: #000; font-size: 14px; background: white; padding: 0 4px; max-width: calc(100% - 120px); overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">请选择本地模板</span>
                            </label>
                        </div>
                        <p style="margin-top: 5px; color: #666; font-size: 14px;">支持从服务器选择模板或上传本地 .docx/.doc 文件</p>
                    </div>

                    <div class="form-group" style="margin-bottom: 20px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                            <label style="font-weight: bold; margin: 0;">2. 输入替换内容：</label>
                            <div style="display: flex; gap: 10px;">
                                <select id="replacementTemplateSelect" style="padding: 6px 12px; border: 2px solid #bbdefb; border-radius: 4px; font-size: 14px;" onchange="onReplacementTemplateSelect()">
                                    <option value="">选择填充模板</option>
                                </select>
                                <button onclick="deleteReplacementTemplate()" id="deleteReplacementTemplateBtn" class="btn-danger" style="padding: 6px 12px; font-size: 14px; display: none;">删除模板</button>
                                <button onclick="saveReplacementTemplate()" class="btn-secondary" style="padding: 6px 12px; font-size: 14px;">保存为模板</button>
                                <button onclick="addPlaceholderRow()" class="btn-primary" style="padding: 8px 16px; font-size: 14px;">+ 添加占位符</button>
                            </div>
                        </div>
                        <div id="placeholdersContainer" style="border: 2px solid #bbdefb; border-radius: 4px; padding: 15px; background: #fafafa; height: 800px; overflow-y: auto; overflow-x: auto; resize: horizontal; min-width: 600px; max-width: 100%; width: 100%; display: block;">
                            <div class="placeholder-row" style="display: flex; align-items: center; gap: 10px; margin-bottom: 12px; padding: 10px; background: white; border-radius: 4px; border: 1px solid #e0e0e0;">
                                <span style="color: #1976d2; font-weight: 500; white-space: nowrap;">${</span>
                                <input type="text" class="placeholder-name" placeholder="占位符名称" style="flex: 1; padding: 8px; border: 1px solid #bbdefb; border-radius: 4px; font-size: 14px;">
                                <span style="color: #1976d2; font-weight: 500; white-space: nowrap;">}=</span>
                                <input type="text" class="placeholder-value" placeholder="替换内容" style="flex: 2; padding: 8px; border: 1px solid #bbdefb; border-radius: 4px; font-size: 14px;">
                                <button onclick="removePlaceholderRow(this)" class="btn-danger" style="padding: 6px 12px; font-size: 14px; min-width: 60px;">删除</button>
                            </div>
                        </div>
                    </div>

                    <div class="form-group" style="margin-bottom: 20px;">
                        <button onclick="generateDocument()" class="btn-primary" style="padding: 12px 30px; font-size: 14px;">生成文档</button>
                        <span id="documentStatus" style="margin-left: 15px; color: #666;"></span>
                    </div>

                    <div style="margin-top: 20px; padding: 15px; background: #f5f5f5; border-radius: 4px;">
                        <p style="margin: 0 0 10px 0; color: #666; font-size: 14px;">提示：可以从下拉框选择已保存的填充模板，或点击"填充默认内容"快速填充常用占位符</p>
                        <button onclick="fillDefaultReplacements()" class="btn-secondary" style="padding: 8px 15px;">填充默认内容</button>
                    </div>
                </div>
            </div>
        </div>
            </div>
        </div>
    </div>

    <div id="editModal" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <span class="close" onclick="closeEditModal()">&times;</span>
            <h2>编辑匹配定额</h2>
            <div class="modal-body">
                <div class="form-group">
                    <label>当前清单：</label>
                    <span id="currentItemName"></span>
                </div>
                
                <div class="form-group">
                    <label>已添加的定额：</label>
                    <div id="addedQuotasList" class="added-quotas-list"></div>
                </div>
                
                <div class="form-group">
                    <label>搜索企业定额：</label>
                    <input type="text" id="quotaSearchInput" placeholder="输入定额名称或特征值搜索..." onkeyup="searchQuotas()">
                    <button onclick="searchQuotas()">搜索</button>
                </div>
                <div class="quota-list" id="quotaList">
                    <p>请输入关键词搜索企业定额</p>
                </div>
                
                <div class="form-group">
                    <label>或直接输入单价（单定额模式）：</label>
                    <input type="number" id="manualPrice" step="0.01" placeholder="输入单价">
                    <button onclick="updatePrice()">更新单价</button>
                </div>
                
                <div class="form-group" style="display: flex; justify-content: space-between; align-items: center; margin-top: 10px;">
                    <button onclick="clearAllQuotas()" class="btn-danger">清空所有定额</button>
                    <button onclick="confirmEditModal()" class="btn-primary">确定</button>
                </div>
            </div>
        </div>
    </div>

    <div id="itemEditModal" class="modal">
        <div class="modal-content" style="max-width: 600px;">
            <span class="close" onclick="closeItemEditModal()">&times;</span>
            <h2 id="itemEditModalTitle">新增清单</h2>
            <div class="modal-body">
                <div class="form-group">
                    <label>清单编码：</label>
                    <input type="text" id="editItemCode" placeholder="请输入清单编码">
                </div>
                <div class="form-group">
                    <label>清单名称：</label>
                    <input type="text" id="editItemName" placeholder="请输入清单名称">
                </div>
                <div class="form-group">
                    <label>项目特征值：</label>
                    <input type="text" id="editFeatureValue" placeholder="请输入项目特征值">
                </div>
                <div class="form-group">
                    <label>单位：</label>
                    <input type="text" id="editUnit" placeholder="请输入单位，如：m²">
                </div>
                <div class="form-group">
                    <label>工程量：</label>
                    <input type="number" id="editQuantity" step="0.01" placeholder="请输入工程量">
                </div>
                <div class="form-group" style="text-align: right;">
                    <button onclick="saveItem()" class="btn-primary">保存</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 版本编辑模态框 -->
    <div id="versionEditModal" class="modal">
        <div class="modal-content" style="max-width: 600px;">
            <span class="close" onclick="closeVersionEditModal()">&times;</span>
            <h2 id="versionEditModalTitle">新增版本</h2>
            <div class="modal-body">
                <div class="form-group">
                    <label>版本名称：<span style="color: red;">*</span></label>
                    <input type="text" id="editVersionName" placeholder="请输入版本名称" required>
                </div>
                <div class="form-group">
                    <label>描述：</label>
                    <textarea id="editVersionDescription" rows="3" placeholder="请输入版本描述"></textarea>
                </div>
                <div class="form-group" id="versionImportSection" style="display: none;">
                    <label>导入定额明细（Excel）：</label>
                    <input type="file" id="versionQuotaFile" accept=".xlsx,.xls">
                </div>
                <div class="form-group" style="text-align: right;">
                    <button onclick="closeVersionEditModal()" class="btn-secondary" style="margin-right: 10px;">取消</button>
                    <button onclick="saveVersion()" class="btn-primary">保存</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 定额编辑模态框 -->
    <div id="quotaEditModal" class="modal">
        <div class="modal-content" style="max-width: 700px;">
            <span class="close" onclick="closeQuotaEditModal()">&times;</span>
            <h2 id="quotaEditModalTitle">新增定额</h2>
            <div class="modal-body">
                <div class="form-group">
                    <label>定额编码：</label>
                    <input type="text" id="editQuotaCode" placeholder="请输入定额编码">
                </div>
                <div class="form-group">
                    <label>定额名称：<span style="color: red;">*</span></label>
                    <input type="text" id="editQuotaName" placeholder="请输入定额名称" required>
                </div>
                <div class="form-group">
                    <label>项目特征值：</label>
                    <input type="text" id="editQuotaFeatureValue" placeholder="请输入项目特征值">
                </div>
                <div class="form-group">
                    <label>单位：</label>
                    <input type="text" id="editQuotaUnit" placeholder="请输入单位，如：m²">
                </div>
                <div class="form-row">
                    <div class="form-group" style="flex: 1;">
                        <label>单价：</label>
                        <input type="number" id="editQuotaUnitPrice" step="0.01" placeholder="0.00">
                    </div>
                    <div class="form-group" style="flex: 1;">
                        <label>人工费：</label>
                        <input type="number" id="editQuotaLaborCost" step="0.01" placeholder="0.00">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group" style="flex: 1;">
                        <label>材料费：</label>
                        <input type="number" id="editQuotaMaterialCost" step="0.01" placeholder="0.00">
                    </div>
                    <div class="form-group" style="flex: 1;">
                        <label>机械费：</label>
                        <input type="number" id="editQuotaMachineCost" step="0.01" placeholder="0.00">
                    </div>
                </div>
                <div class="form-group">
                    <label>备注：</label>
                    <textarea id="editQuotaRemark" rows="3" placeholder="请输入备注信息"></textarea>
                </div>
                <div class="form-group" style="text-align: right;">
                    <button onclick="closeQuotaEditModal()" class="btn-secondary" style="margin-right: 10px;">取消</button>
                    <button onclick="saveQuota()" class="btn-primary">保存</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 用户编辑模态框 -->
    <div id="userEditModal" class="modal">
        <div class="modal-content" style="max-width: 600px;">
            <span class="close" onclick="closeUserEditModal()">&times;</span>
            <h2 id="userEditModalTitle">新增用户</h2>
            <div class="modal-body">
                <div class="form-group">
                    <label>用户名：<span style="color: red;">*</span></label>
                    <input type="text" id="editUsername" placeholder="请输入用户名" required>
                </div>
                <div class="form-group" id="passwordGroup">
                    <label>密码：<span style="color: red;">*</span></label>
                    <input type="password" id="editPassword" placeholder="请输入密码（至少6位）" required>
                </div>
                <div class="form-group">
                    <label>真实姓名：</label>
                    <input type="text" id="editRealName" placeholder="请输入真实姓名">
                </div>
                <div class="form-group">
                    <label>邮箱：</label>
                    <input type="email" id="editEmail" placeholder="请输入邮箱">
                </div>
                <div class="form-group" style="text-align: right;">
                    <button onclick="closeUserEditModal()" class="btn-secondary" style="margin-right: 10px;">取消</button>
                    <button onclick="saveUser()" class="btn-primary">保存</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 保存替换内容模板模态框 -->
    <div id="saveReplacementTemplateModal" class="modal">
        <div class="modal-content" style="max-width: 500px;">
            <span class="close" onclick="closeSaveReplacementTemplateModal()">&times;</span>
            <h2>保存替换内容模板</h2>
            <div class="modal-body">
                <div class="form-group">
                    <label>模板名称：<span style="color: red;">*</span></label>
                    <input type="text" id="replacementTemplateName" placeholder="请输入模板名称" required>
                </div>
                <div class="form-group">
                    <label>描述：</label>
                    <textarea id="replacementTemplateDescription" rows="3" placeholder="请输入模板描述（可选）"></textarea>
                </div>
                <div class="form-group" style="text-align: right;">
                    <button onclick="closeSaveReplacementTemplateModal()" class="btn-secondary" style="margin-right: 10px;">取消</button>
                    <button onclick="confirmSaveReplacementTemplate()" class="btn-primary">保存</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 文档模板管理模态框 -->
    <div id="documentTemplateModal" class="modal">
        <div class="modal-content" style="max-width: 900px;">
            <span class="close" onclick="closeDocumentTemplateModal()">&times;</span>
            <h2>文档模板管理</h2>
            <div class="modal-body">
                <div style="margin-bottom: 20px; padding: 15px; background: #f5f5f5; border-radius: 4px;">
                    <h3 style="margin-top: 0; margin-bottom: 10px;">上传新模板</h3>
                    <div class="form-group" style="margin-bottom: 10px;">
                        <label>模板名称：<span style="color: red;">*</span></label>
                        <input type="text" id="newDocumentTemplateName" placeholder="请输入模板名称" style="width: 100%; padding: 8px; border: 2px solid #bbdefb; border-radius: 4px;">
                    </div>
                    <div class="form-group" style="margin-bottom: 10px;">
                        <label>描述：</label>
                        <textarea id="newDocumentTemplateDescription" rows="2" placeholder="请输入模板描述（可选）" style="width: 100%; padding: 8px; border: 2px solid #bbdefb; border-radius: 4px;"></textarea>
                    </div>
                    <div class="form-group" style="margin-bottom: 10px;">
                        <label>选择文件：<span style="color: red;">*</span></label>
                        <input type="file" id="newDocumentTemplateFile" accept=".docx,.doc" style="width: 100%; padding: 8px; border: 2px solid #bbdefb; border-radius: 4px;">
                    </div>
                    <button onclick="uploadDocumentTemplate()" class="btn-primary" style="padding: 8px 16px;">上传模板</button>
                </div>
                
                <div>
                    <h3 style="margin-top: 0; margin-bottom: 15px;">已上传的模板</h3>
                    <div class="table-container" style="max-height: 400px;">
                        <table>
                            <thead>
                                <tr>
                                    <th>模板名称</th>
                                    <th>文件名</th>
                                    <th>文件大小</th>
                                    <th>上传时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody id="documentTemplateList">
                                <tr>
                                    <td colspan="5" class="empty-message">暂无模板，请先上传</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 修改密码模态框 -->
    <div id="changePasswordModal" class="modal">
        <div class="modal-content" style="max-width: 500px;">
            <span class="close" onclick="closeChangePasswordModal()">&times;</span>
            <h2>修改密码</h2>
            <div class="modal-body">
                <div class="form-group">
                    <label>原密码：<span style="color: red;">*</span></label>
                    <input type="password" id="oldPassword" placeholder="请输入原密码" required>
                </div>
                <div class="form-group">
                    <label>新密码：<span style="color: red;">*</span></label>
                    <input type="password" id="newPassword" placeholder="请输入新密码（至少6位）" required>
                </div>
                <div class="form-group">
                    <label>确认新密码：<span style="color: red;">*</span></label>
                    <input type="password" id="confirmPassword" placeholder="请再次输入新密码" required>
                </div>
                <div class="error-message" id="passwordErrorMessage"></div>
                <div class="form-group" style="text-align: right;">
                    <button onclick="closeChangePasswordModal()" class="btn-secondary" style="margin-right: 10px;">取消</button>
                    <button onclick="savePassword()" class="btn-primary">保存</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>

